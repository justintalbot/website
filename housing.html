<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />




<title>Linear Regression to Predict Home Prices</title>

<script src="site_libs/jquery-1.12.4/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<script src="site_libs/htmlwidgets-1.3/htmlwidgets.js"></script>
<link href="site_libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet" />
<script src="site_libs/datatables-binding-0.5/datatables.js"></script>
<link href="site_libs/dt-core-1.10.16/css/jquery.dataTables.min.css" rel="stylesheet" />
<link href="site_libs/dt-core-1.10.16/css/jquery.dataTables.extra.css" rel="stylesheet" />
<script src="site_libs/dt-core-1.10.16/js/jquery.dataTables.min.js"></script>
<link href="site_libs/crosstalk-1.0.0/css/crosstalk.css" rel="stylesheet" />
<script src="site_libs/crosstalk-1.0.0/js/crosstalk.min.js"></script>

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>


</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 51px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h2 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h3 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h4 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h5 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h6 {
  padding-top: 56px;
  margin-top: -56px;
}
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #ffffff;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>

<div class="container-fluid main-container">

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  background: white;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open')
  });
});
</script>

<!-- code folding -->





<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Recent Projects</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Top Medicare Inpatient Procedures</a>
</li>
<li>
  <a href="housing.html">Multiple Linear Regression for Jax Housing</a>
</li>
<li>
  <a href="knn_heart.html">K-NN to Predict Heart Disease</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">Linear Regression to Predict Home Prices</h1>

</div>


<div id="introduction" class="section level2">
<h2>Introduction</h2>
<p>When linear regression is introduced in text books one of the topics I have seen come up multiple times is predicting the sale price of homes.</p>
<p>There is a classic dataset that comes in the MASS package of R called Boston. This built in dataset was collected in the late 1970’s. It has 506 rows and 14 columns:</p>
<ul>
<li>crim: per capita crime rate by town.</li>
<li>zn: proportion of residential land zoned for lots over 25,000 sq.ft.</li>
<li>indus: proportion of non-retail business acres per town.</li>
<li>chas: Charles River dummy variable (= 1 if tract bounds river; 0 otherwise).</li>
<li>nox: nitrogen oxides concentration (parts per 10 million).</li>
<li>rm: number of rooms per dwelling.</li>
<li>age: proportion of owner-occupied units built prior to 1940.</li>
<li>dis: weighted mean of distances to five Boston employment centres.</li>
<li>rad: index of accessibility to radial highways.</li>
<li>tax: full-value property-tax rate per $10,000.</li>
<li>ptratio: pupil-teacher ratio by town.</li>
<li>black: 1000(Bk - 0.63)^2 where Bk is the proportion of blacks by town.</li>
<li>lstat: lower status of the population (percent).</li>
<li>medv: median value of owner-occupied homes in $1000s.</li>
</ul>
</div>
<div id="multiple-linear-regression-in-r-boston" class="section level2">
<h2>Multiple Linear Regression in R: Boston</h2>
<p>Using the Boston dataset within R, linear regression is extremely simple.</p>
<div id="load-in-the-needed-libraries-and-boston-dataset" class="section level3">
<h3>Load in the needed libraries and ‘Boston’ dataset</h3>
<pre class="r"><code>library(MASS)
library(ggplot2)
library(GGally)

boston &lt;- Boston</code></pre>
</div>
<div id="visualizing-correlation-with-a-matrix-scatter-plot" class="section level3">
<h3>Visualizing Correlation with a Matrix Scatter Plot</h3>
<pre class="r"><code># Create matrix scatter plot
ggpairs(boston[,c(1:3, 5:8, 10:14)])</code></pre>
<p><img src="housing_files/figure-html/unnamed-chunk-2-1.png" width="672" /></p>
<p>The above graph contains a lot of information. But by matching the names in the rows and the names in the columns quickly allows us to find variables that are correlated.</p>
<p>We are interested in predicting the medv value based on the other variables. Looking at the medv column alone, we can see that x and y are very correlated.</p>
<p>Let’s see if that holds true after looking at our coefficients from our linear model. But first, we need to break the data into a training and test set. I will use a 75/25 split.</p>
</div>
<div id="break-the-data-into-training-and-test-sets" class="section level3">
<h3>Break the data into training and test sets</h3>
<pre class="r"><code>## 75% of the sample size
smp_size &lt;- floor(0.75 * nrow(boston))

## set the seed to make your partition reproducible
set.seed(123)
train_ind &lt;- sample(seq_len(nrow(boston)), size = smp_size)

train &lt;- boston[train_ind, ]
test &lt;- boston[-train_ind, ]</code></pre>
</div>
<div id="use-the-lm-function-to-predict-y-medv-across-all-variables-and-examine-coefficients" class="section level3">
<h3>Use the lm function to predict y (medv) across all variables and examine coefficients</h3>
<pre class="r"><code># Interpret the above chart
fit &lt;- lm(medv ~ ., data=train)
summary(fit)</code></pre>
<pre><code>## 
## Call:
## lm(formula = medv ~ ., data = train)
## 
## Residuals:
##      Min       1Q   Median       3Q      Max 
## -16.1516  -2.8187  -0.5586   1.5889  24.5780 
## 
## Coefficients:
##               Estimate Std. Error t value Pr(&gt;|t|)    
## (Intercept)  40.074639   5.832140   6.871 2.76e-11 ***
## crim         -0.088151   0.040406  -2.182  0.02978 *  
## zn            0.046131   0.016382   2.816  0.00513 ** 
## indus         0.056639   0.071795   0.789  0.43068    
## chas          3.360837   1.069793   3.142  0.00182 ** 
## nox         -19.274100   4.607580  -4.183 3.61e-05 ***
## rm            3.454551   0.486790   7.097 6.70e-12 ***
## age           0.004943   0.015837   0.312  0.75515    
## dis          -1.577366   0.244904  -6.441 3.75e-10 ***
## rad           0.332795   0.077663   4.285 2.34e-05 ***
## tax          -0.013145   0.004348  -3.023  0.00268 ** 
## ptratio      -0.967219   0.157964  -6.123 2.37e-09 ***
## black         0.009372   0.003283   2.855  0.00455 ** 
## lstat        -0.570498   0.061631  -9.257  &lt; 2e-16 ***
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## Residual standard error: 4.884 on 365 degrees of freedom
## Multiple R-squared:  0.7212, Adjusted R-squared:  0.7113 
## F-statistic: 72.63 on 13 and 365 DF,  p-value: &lt; 2.2e-16</code></pre>
<p>I am using backwards elimination for this model. This means we are first adding all variables and then dropping the ones that are not significant, one at a time, until we reach the most parsimonious model possible.</p>
<p>Two of these variables, age and indus, have very high p values, we will drop these.</p>
<p>We can interpret the p value as the probability that an event would occur given that the null hypothesis is true. The null hypothesis in our situation is that there is no correlation between our y value (medv) and our x predictor values.</p>
<p>Therefore, we drop variables that have high p values and keep those with low p values. The rule of thumb to measure statistical signifcance is to keep varialbes with p values less than 0.05. If our dataset did not have any variables with p values less than 0.05 we would accept the null hypothesis as true.</p>
<p>In this case, we can reject the null hypothesis as multiple variables have statistically significant p-values.</p>
<p>A second metric to examine is the R squared value. This shows the fit of the data. Our goal is to increase this value as much as possible to increase how much of our data can be explained by our model.</p>
<pre class="r"><code># Remove the age and indus variables
fit2 &lt;- lm(medv ~ . -age -indus, data=train)
summary(fit2)</code></pre>
<pre><code>## 
## Call:
## lm(formula = medv ~ . - age - indus, data = train)
## 
## Residuals:
##      Min       1Q   Median       3Q      Max 
## -16.2196  -2.8199  -0.5707   1.5842  24.8033 
## 
## Coefficients:
##               Estimate Std. Error t value Pr(&gt;|t|)    
## (Intercept)  39.606692   5.784211   6.847 3.18e-11 ***
## crim         -0.089761   0.040289  -2.228  0.02649 *  
## zn            0.044090   0.016153   2.729  0.00665 ** 
## chas          3.450147   1.062698   3.247  0.00128 ** 
## nox         -17.961525   4.274826  -4.202 3.33e-05 ***
## rm            3.459200   0.472419   7.322 1.56e-12 ***
## dis          -1.643565   0.225514  -7.288 1.94e-12 ***
## rad           0.312358   0.073648   4.241 2.82e-05 ***
## tax          -0.011541   0.003865  -2.986  0.00302 ** 
## ptratio      -0.946597   0.155677  -6.081 3.01e-09 ***
## black         0.009312   0.003269   2.848  0.00464 ** 
## lstat        -0.559694   0.058251  -9.608  &lt; 2e-16 ***
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## Residual standard error: 4.875 on 367 degrees of freedom
## Multiple R-squared:  0.7206, Adjusted R-squared:  0.7123 
## F-statistic: 86.07 on 11 and 367 DF,  p-value: &lt; 2.2e-16</code></pre>
<p>With the variables age and indus removed our R squared did increase. Also, all of our coefficients have p values below our 0.05 threshold. We will keep this model and use it to predict our test set.</p>
</div>
<div id="predicting-y-on-the-test-set-using-our-model-from-the-training-set" class="section level3">
<h3>Predicting y on the test set using our model from the training set</h3>
<pre class="r"><code>pred &lt;- predict(fit2, test)
test$predicted &lt;- pred</code></pre>
</div>
</div>
<div id="fun-but-what-about-jacksonville" class="section level2">
<h2>Fun, But What About Jacksonville</h2>
<p>I was curious to see if I could obtain a more modern dataset to the city that I live in, Jacksonville Florida.</p>
<p>I first went to the Zillow API to see what data I could obtain. Unfortunately, the API is set up to only give you data for the addresses that you supply. To get the data that we are after, sales prices and predictor values, we would have to supply a list of homes that recently sold.</p>
<p>To do this I went to another website, Realtor.com. They don’t have an API, but the website was easy to scrape.</p>
</div>
<div id="scraping-realtor.com" class="section level2">
<h2>Scraping Realtor.com</h2>
<p>If you go to Realtor.com you can see a list of homes that recently sold for the city that you input. Using this page, I used the rvest library to loop through the pages of recently sold homes and obtain the street address.</p>
<pre class="r"><code>library(rvest)
library(dplyr)
library(tidyr)

# Create a function to scrape the realtor.com website to find properties that were recently sold
city_sold &lt;- function(city_state, page_number) {
  addresses &lt;- list()
  
  for (i in 1:page_number) {
    url &lt;- paste0(&quot;https://www.realtor.com/soldhomeprices/&quot;, city_state, &quot;/pg-&quot;, i)
    webpage &lt;- read_html(url)
    address_data_html &lt;- html_nodes(webpage,&#39;span.listing-street-address&#39;)
    addresses[[i]] &lt;- html_text(address_data_html)
  }
  
  all_data &lt;- as.data.frame(do.call(rbind, addresses))
  all_data &lt;- all_data %&gt;%
    gather(key = address) %&gt;%
    select(2)
  
  names(all_data) &lt;- &quot;Address&quot;
  
  return(all_data)
}

# Get the first 50 pages of properties recently sold for Jacksonville FL
addresses &lt;- city_sold(&quot;Jacksonville_FL&quot;, 50)

# Write this to a csv file to feed to the Zillow API
write.csv(addresses, &quot;addresses.csv&quot;, row.names = F)</code></pre>
<p>This resulting dataframe was written to a csv file. We now have a list of home addresses that were recently sold. We can use this list to supply addresses to the Zillow API.</p>
</div>
<div id="using-the-zillow-api-to-obtain-predictors" class="section level2">
<h2>Using the Zillow API to Obtain Predictors</h2>
<p>Things get a little messy code wise. The issues arise from the structure of the xml returned by the API for each supplied address. They are mostly uniform, but not completely so. It became difficult to write concise code given the differences in each variable’s location in the xml structure.</p>
<p>One variable that I really wanted to include was the neighborhood. However, not all addresses are in a neigborhood. This was an easy fix. But I also found that some addresses did not even return the xml node that the neighborhood value lives in. The loop kept breaking.</p>
<p>This is something that I want to revisit. For now, that part of the code is commented out. We will see if the zip code is a viable substitute.</p>
<p>I also plan on coming back and revising the code so it is more robust and easier to read. But for now, the below is what we have:</p>
<pre class="r"><code>library(ZillowR)
library(XML)

set_zillow_web_service_id(&#39;myAPIkey&#39;)

address_list &lt;- addresses[1:2400,]
data &lt;- list()

for (i in 1:length(address_list)) {
  jax &lt;- GetDeepSearchResults(address = address_list[i], citystatezip = &#39;Jacksonville, FL&#39;)
  results &lt;- tryCatch(xmlToList(jax$response[[&quot;results&quot;]]), error=function(err) NULL)
  
  if(is.null(results)) {
    next
  }
  
  street &lt;- tryCatch(results[&quot;address&quot;,][[1]][[&quot;street&quot;]], error=function(err) NA)
  city &lt;- tryCatch(results[&quot;address&quot;,][[1]][[&quot;city&quot;]], error=function(err) NA)
  zip &lt;- tryCatch(results[&quot;address&quot;,][[1]][[&quot;zipcode&quot;]], error=function(err) NA)
  useCode &lt;- tryCatch(results[&quot;useCode&quot;,][[1]], error=function(err) NA)
  taxAssessmentYear &lt;- tryCatch(results[&quot;taxAssessmentYear&quot;,][[1]], error=function(err) NA)
  taxAssessment &lt;- tryCatch(results[&quot;taxAssessment&quot;,][[1]], error=function(err) NA)
  yearBuilt &lt;- tryCatch(results[&quot;yearBuilt&quot;,][[1]], error=function(err) NA)
  lotSizeSqFt &lt;- tryCatch(results[&quot;lotSizeSqFt&quot;,][[1]], error=function(err) NA)
  finishedSqFt &lt;- tryCatch(results[&quot;finishedSqFt&quot;,][[1]], error=function(err) NA)
  bathrooms &lt;- tryCatch(results[&quot;bathrooms&quot;,][[1]], error=function(err) NA)
  bedrooms &lt;- tryCatch(results[&quot;bedrooms&quot;,][[1]], error=function(err) NA)
  lastSoldDate &lt;- tryCatch(results[&quot;lastSoldDate&quot;,][[1]], error=function(err) NA)
  lastSoldPrice &lt;- tryCatch(results[&quot;lastSoldPrice&quot;,][[1]][[&quot;text&quot;]], error=function(err) NA)
  
  #if(is.null(results[&quot;localRealEstate&quot;,][[1]][[length(results[&quot;localRealEstate&quot;,][[1]])]]
  #[[&#39;name&#39;]])) {
  #  neighborhood = NA
  #} else {
  #  neighborhood = tryCatch(results[&quot;localRealEstate&quot;,][[1]][[length(results[&quot;localRealEstate&quot;,][[1]])]][[&#39;name&#39;]], 
  #           error=function(err) NA)
  #}
  
  # Bind into a single row dataframe
  entry &lt;- as.data.frame(cbind(street, city, zip, useCode, taxAssessmentYear, taxAssessment, 
                               yearBuilt, lotSizeSqFt, finishedSqFt, bathrooms, bedrooms, 
                               lastSoldDate, lastSoldPrice), stringsAsFactors = F)
  
  # Send to our list
  data[[i]] &lt;- entry
}

# Turn our list of single row dataframes into one dataframe
jax_housing &lt;- do.call(&quot;rbind&quot;, data)</code></pre>
<div id="clean-the-data-for-modeling" class="section level3">
<h3>Clean the data for modeling</h3>
<pre class="r"><code># Adjust the variables
jax_housing$taxAssessmentYear &lt;- as.numeric(jax_housing$taxAssessmentYear)
jax_housing$taxAssessment &lt;- as.numeric(jax_housing$taxAssessment)
jax_housing$yearBuilt &lt;- as.numeric(jax_housing$yearBuilt)
jax_housing$lotSizeSqFt &lt;- as.numeric(jax_housing$lotSizeSqFt)
jax_housing$finishedSqFt &lt;- as.numeric(jax_housing$finishedSqFt)
jax_housing$bathrooms &lt;- as.numeric(jax_housing$bathrooms)
jax_housing$bedrooms &lt;- as.numeric(jax_housing$bedrooms)
jax_housing$lastSoldPrice &lt;- as.numeric(jax_housing$lastSoldPrice)  

# Remove cities that are not Jacksonville or Jacksonville Beach
jax_housing &lt;- jax_housing %&gt;% 
  filter(city %in% c(&quot;JACKSONVILLE&quot;, &quot;Jacksonville&quot;, &quot;Jacksonville Beach&quot;, 
                     &quot;JACKSONVILLE BEACH&quot;)) %&gt;%
  filter(useCode %in% c(&quot;Condominium&quot;, &quot;SingleFamily&quot;, &quot;Townhouse&quot;))

jax_housing$city &lt;- toupper(jax_housing$city)

# Decide what to do with missing values
non_na_jax &lt;- jax_housing[complete.cases(jax_housing), ]</code></pre>
<p>We now have a dataset with the following variables and 1117 unique entries and 0 missing values:</p>
<ul>
<li>address</li>
<li>bathrooms</li>
<li>bedrooms</li>
<li>city</li>
<li>finishedSqFt</li>
<li>lotSizeSqFt</li>
<li>lastSoldDate</li>
<li>taxAssessment</li>
<li>taxAssessmentYear</li>
<li>useCode</li>
<li>yearBuilt</li>
<li>zip</li>
<li>lastSoldPrice</li>
</ul>
<p>We can use this dataset to do what we did with the Boston dataset. Can we predict what homes are worth based on the obtained variables?</p>
</div>
</div>
<div id="linear-regression-of-jacksonville-homes" class="section level2">
<h2>Linear Regression of Jacksonville Homes</h2>
<div id="paired-scatter-plot-of-jax-data" class="section level3">
<h3>Paired Scatter Plot of Jax Data</h3>
<pre class="r"><code># Create matrix scatter plot
ggpairs(non_na_jax[,c(6:11)])</code></pre>
<p><img src="housing_files/figure-html/unnamed-chunk-11-1.png" width="672" /></p>
</div>
<div id="multiple-linear-regression-of-jax-data" class="section level3">
<h3>Multiple Linear Regression of Jax Data</h3>
<pre class="r"><code>## 75% of the sample size
smp_size &lt;- floor(0.75 * nrow(non_na_jax))

## set the seed to make reproducible
set.seed(123)
train_ind &lt;- sample(seq_len(nrow(non_na_jax)), size = smp_size)

train &lt;- non_na_jax[train_ind, ]
test &lt;- non_na_jax[-train_ind, ]

# Fit the first model
fit &lt;- lm(lastSoldPrice ~ ., data=train)
summary(fit)</code></pre>
<pre><code>## 
## Call:
## lm(formula = lastSoldPrice ~ ., data = train)
## 
## Residuals:
##     Min      1Q  Median      3Q     Max 
## -485799  -29820   -2615   23678  615438 
## 
## Coefficients:
##                          Estimate Std. Error t value Pr(&gt;|t|)    
## (Intercept)             3.738e+08  1.349e+08   2.771 0.005720 ** 
## cityJACKSONVILLE BEACH  7.217e+04  1.375e+04   5.250 1.94e-07 ***
## zip                    -7.508e+01  1.209e+02  -0.621 0.534799    
## useCodeSingleFamily     1.431e+04  8.731e+03   1.639 0.101557    
## useCodeTownhouse       -2.030e+04  1.200e+04  -1.691 0.091250 .  
## taxAssessmentYear      -1.845e+05  6.688e+04  -2.759 0.005924 ** 
## taxAssessment           6.930e-01  2.849e-02  24.325  &lt; 2e-16 ***
## yearBuilt               4.476e+02  1.072e+02   4.176 3.29e-05 ***
## lotSizeSqFt             3.936e-02  9.167e-03   4.294 1.96e-05 ***
## finishedSqFt            5.155e+01  7.019e+00   7.345 4.95e-13 ***
## bathrooms               2.167e+04  4.965e+03   4.366 1.43e-05 ***
## bedrooms               -1.692e+04  4.351e+03  -3.890 0.000108 ***
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## Residual standard error: 65460 on 825 degrees of freedom
## Multiple R-squared:  0.7935, Adjusted R-squared:  0.7907 
## F-statistic: 288.2 on 11 and 825 DF,  p-value: &lt; 2.2e-16</code></pre>
<pre class="r"><code># Remove the insignificant variables
fit2 &lt;- lm(lastSoldPrice ~ . -zip, data=train)
summary(fit2)</code></pre>
<pre><code>## 
## Call:
## lm(formula = lastSoldPrice ~ . - zip, data = train)
## 
## Residuals:
##     Min      1Q  Median      3Q     Max 
## -486110  -29927   -3174   22977  616738 
## 
## Coefficients:
##                          Estimate Std. Error t value Pr(&gt;|t|)    
## (Intercept)             3.728e+08  1.348e+08   2.765 0.005818 ** 
## cityJACKSONVILLE BEACH  7.088e+04  1.358e+04   5.218 2.29e-07 ***
## useCodeSingleFamily     1.452e+04  8.721e+03   1.665 0.096254 .  
## useCodeTownhouse       -2.010e+04  1.200e+04  -1.676 0.094187 .  
## taxAssessmentYear      -1.853e+05  6.685e+04  -2.771 0.005707 ** 
## taxAssessment           6.933e-01  2.848e-02  24.346  &lt; 2e-16 ***
## yearBuilt               4.258e+02  1.012e+02   4.205 2.89e-05 ***
## lotSizeSqFt             3.896e-02  9.140e-03   4.262 2.26e-05 ***
## finishedSqFt            5.154e+01  7.016e+00   7.345 4.93e-13 ***
## bathrooms               2.142e+04  4.946e+03   4.331 1.67e-05 ***
## bedrooms               -1.681e+04  4.345e+03  -3.869 0.000118 ***
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## Residual standard error: 65440 on 826 degrees of freedom
## Multiple R-squared:  0.7934, Adjusted R-squared:  0.7909 
## F-statistic: 317.2 on 10 and 826 DF,  p-value: &lt; 2.2e-16</code></pre>
<pre class="r"><code>pred &lt;- predict(fit2, test)
test$predicted &lt;- round(pred, 2)

test &lt;- test %&gt;%
  mutate(Prediction_Difference = round(predicted - lastSoldPrice,2)) %&gt;%
  arrange(abs(Prediction_Difference))</code></pre>
<p>Notice that the useCode does not meet our 0.05 p-value threshold. However, by removing it and the zip our R squared value decreases, so I made the decision to leave it in.</p>
</div>
<div id="predictions-ordered-by-abs-of-difference" class="section level3">
<h3>Predictions ordered by ABS of Difference</h3>
<pre class="r"><code>DT::datatable(test)</code></pre>
<p><div id="htmlwidget-dfde06f97d636a172967" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-dfde06f97d636a172967">{"x":{"filter":"none","data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98","99","100","101","102","103","104","105","106","107","108","109","110","111","112","113","114","115","116","117","118","119","120","121","122","123","124","125","126","127","128","129","130","131","132","133","134","135","136","137","138","139","140","141","142","143","144","145","146","147","148","149","150","151","152","153","154","155","156","157","158","159","160","161","162","163","164","165","166","167","168","169","170","171","172","173","174","175","176","177","178","179","180","181","182","183","184","185","186","187","188","189","190","191","192","193","194","195","196","197","198","199","200","201","202","203","204","205","206","207","208","209","210","211","212","213","214","215","216","217","218","219","220","221","222","223","224","225","226","227","228","229","230","231","232","233","234","235","236","237","238","239","240","241","242","243","244","245","246","247","248","249","250","251","252","253","254","255","256","257","258","259","260","261","262","263","264","265","266","267","268","269","270","271","272","273","274","275","276","277","278","279","280"],["JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE BEACH","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE BEACH","JACKSONVILLE","JACKSONVILLE BEACH","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE BEACH","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE BEACH","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE BEACH","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE BEACH","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE","JACKSONVILLE"],[32277,32258,32218,32224,32223,32246,32250,32256,32225,32224,32225,32209,32254,32218,32244,32258,32221,32205,32258,32257,32211,32210,32244,32208,32250,32258,32250,32246,32218,32225,32216,32221,32256,32258,32254,32221,32216,32258,32277,32244,32226,32223,32244,32208,32256,32225,32218,32277,32244,32207,32218,32256,32218,32205,32257,32277,32246,32218,32223,32225,32202,32223,32217,32225,32246,32246,32218,32210,32217,32210,32225,32244,32225,32218,32257,32224,32208,32224,32258,32225,32219,32256,32244,32211,32258,32217,32246,32225,32216,32222,32277,32244,32244,32224,32216,32210,32211,32225,32226,32209,32225,32256,32257,32209,32210,32277,32277,32244,32210,32207,32277,32207,32256,32221,32258,32208,32218,32258,32218,32223,32206,32224,32225,32209,32256,32216,32221,32225,32209,32224,32216,32218,32209,32257,32224,32211,32222,32244,32211,32225,32225,32218,32208,32217,32202,32246,32223,32225,32209,32256,32210,32224,32246,32218,32209,32216,32210,32218,32209,32226,32257,32210,32219,32221,32225,32254,32207,32225,32256,32208,32223,32216,32218,32258,32217,32246,32208,32223,32211,32234,32258,32222,32219,32225,32250,32206,32244,32216,32244,32258,32205,32258,32205,32204,32225,32211,32208,32218,32246,32210,32218,32256,32244,32207,32218,32258,32217,32218,32205,32210,32233,32210,32208,32218,32209,32218,32207,32208,32210,32223,32218,32218,32258,32210,32223,32206,32209,32207,32205,32217,32226,32246,32208,32233,32210,32216,32208,32246,32208,32224,32206,32234,32219,32219,32224,32258,32250,32207,32211,32207,32217,32223,32210,32205,32204,32225,32221,32244,32256,32207,32225,32211,32217,32207,32224,32257,32224,32218,32224,32250,32257,32256,32246,32210,32250,32207,32246,32207,32223,32257],["SingleFamily","Townhouse","SingleFamily","Condominium","SingleFamily","Condominium","SingleFamily","SingleFamily","SingleFamily","Townhouse","SingleFamily","SingleFamily","SingleFamily","Townhouse","SingleFamily","SingleFamily","SingleFamily","SingleFamily","Townhouse","SingleFamily","SingleFamily","SingleFamily","SingleFamily","SingleFamily","SingleFamily","Condominium","Condominium","SingleFamily","SingleFamily","SingleFamily","Townhouse","SingleFamily","SingleFamily","SingleFamily","SingleFamily","SingleFamily","SingleFamily","SingleFamily","SingleFamily","SingleFamily","SingleFamily","SingleFamily","SingleFamily","SingleFamily","Condominium","SingleFamily","SingleFamily","SingleFamily","SingleFamily","SingleFamily","SingleFamily","Condominium","SingleFamily","SingleFamily","SingleFamily","SingleFamily","SingleFamily","SingleFamily","SingleFamily","SingleFamily","Condominium","Townhouse","SingleFamily","SingleFamily","SingleFamily","SingleFamily","SingleFamily","SingleFamily","SingleFamily","SingleFamily","SingleFamily","SingleFamily","SingleFamily","Townhouse","SingleFamily","SingleFamily","SingleFamily","Condominium","SingleFamily","SingleFamily","SingleFamily","SingleFamily","SingleFamily","SingleFamily","SingleFamily","Townhouse","Condominium","SingleFamily","Condominium","SingleFamily","SingleFamily","Townhouse","SingleFamily","SingleFamily","Condominium","SingleFamily","SingleFamily","SingleFamily","SingleFamily","SingleFamily","Condominium","SingleFamily","SingleFamily","SingleFamily","SingleFamily","SingleFamily","SingleFamily","SingleFamily","SingleFamily","Condominium","SingleFamily","SingleFamily","Townhouse","SingleFamily","SingleFamily","SingleFamily","SingleFamily","Condominium","SingleFamily","SingleFamily","SingleFamily","SingleFamily","SingleFamily","SingleFamily","SingleFamily","Condominium","SingleFamily","SingleFamily","SingleFamily","SingleFamily","SingleFamily","SingleFamily","SingleFamily","Condominium","SingleFamily","SingleFamily","SingleFamily","SingleFamily","SingleFamily","SingleFamily","SingleFamily","SingleFamily","SingleFamily","SingleFamily","SingleFamily","Condominium","SingleFamily","SingleFamily","SingleFamily","SingleFamily","SingleFamily","SingleFamily","SingleFamily","SingleFamily","SingleFamily","SingleFamily","SingleFamily","SingleFamily","SingleFamily","SingleFamily","SingleFamily","SingleFamily","SingleFamily","SingleFamily","SingleFamily","SingleFamily","Condominium","Condominium","SingleFamily","SingleFamily","SingleFamily","SingleFamily","SingleFamily","SingleFamily","SingleFamily","SingleFamily","SingleFamily","SingleFamily","SingleFamily","SingleFamily","SingleFamily","SingleFamily","SingleFamily","SingleFamily","SingleFamily","SingleFamily","SingleFamily","SingleFamily","SingleFamily","SingleFamily","SingleFamily","SingleFamily","SingleFamily","SingleFamily","SingleFamily","SingleFamily","SingleFamily","Townhouse","Condominium","SingleFamily","SingleFamily","SingleFamily","SingleFamily","SingleFamily","SingleFamily","SingleFamily","SingleFamily","SingleFamily","SingleFamily","SingleFamily","SingleFamily","SingleFamily","SingleFamily","SingleFamily","SingleFamily","Townhouse","SingleFamily","SingleFamily","Townhouse","SingleFamily","SingleFamily","SingleFamily","Condominium","SingleFamily","SingleFamily","SingleFamily","SingleFamily","SingleFamily","SingleFamily","SingleFamily","SingleFamily","SingleFamily","SingleFamily","SingleFamily","SingleFamily","SingleFamily","SingleFamily","SingleFamily","SingleFamily","SingleFamily","SingleFamily","SingleFamily","SingleFamily","SingleFamily","SingleFamily","SingleFamily","Condominium","SingleFamily","SingleFamily","Condominium","SingleFamily","SingleFamily","SingleFamily","SingleFamily","Condominium","SingleFamily","SingleFamily","SingleFamily","Condominium","SingleFamily","SingleFamily","SingleFamily","SingleFamily","SingleFamily","SingleFamily","SingleFamily","SingleFamily","SingleFamily","SingleFamily","Condominium","SingleFamily","SingleFamily","SingleFamily","SingleFamily","Condominium","SingleFamily","SingleFamily","Condominium","SingleFamily","SingleFamily"],[2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017],[123545,133245,66184,100000,172486,103000,266310,418144,175356,111185,187252,33990,34239,75592,101592,185440,230514,111563,134380,186738,84245,108762,98115,86939,316157,68500,159000,102920,85789,201272,152073,111561,225592,252942,20304,186864,90726,256372,87662,98676,136839,137505,116703,56549,157000,176221,145557,188215,149495,152328,104530,102000,132602,35514,119215,69478,159047,138788,247401,210079,40000,107678,201194,182052,81690,178100,126995,109893,226813,74167,145360,72841,105659,117147,149135,221118,78096,104000,283555,145302,114141,333422,49208,43278,247871,79883,111500,134019,87000,123418,148410,111024,121196,224830,42500,73169,130165,136596,133364,27661,91000,314684,151535,21857,104133,162169,114094,153398,6790,23000,101865,89315,148923,104988,169572,31823,37842,103000,150827,218530,4318,170232,166592,34578,304147,60000,158458,270293,14036,252979,94998,154156,22894,68000,195465,45125,129581,148211,69150,209186,221893,79632,64011,136122,22457,68500,163245,180574,31834,142690,107332,219385,88950,61702,47607,159532,108164,184358,11465,110310,132478,99980,44724,237912,222099,27972,30000,118000,321381,88597,284894,219337,197591,229651,216713,56107,51689,209811,83947,161247,175836,131135,13000,766057,267569,187369,106511,87400,45193,256759,107335,158507,67137,27450,217708,63560,51833,8000,179000,70060,201271,312645,69592,62013,43177,186665,126423,205756,249060,69017,165083,76281,46960,174540,56770,8000,96774,34945,63846,248554,208641,269241,147093,87217,238604,59527,36393,149549,97304,182326,553061,140059,56328,196998,59345,112231,74398,61379,32621,363491,64556,84218,59122,66262,119755,232541,77000,177968,105381,92000,264870,221891,38297,767571,176500,271294,118902,199809,83500,154943,163548,215079,170195,75030,511859,49500,45000,136501,677481,449400,49500,516523,80000,452237,664350,335349,80000,516500,507122,97500],[1978,2009,1942,2006,1979,2001,1989,1999,1991,2005,2001,1967,1961,2008,1997,1999,2003,1929,2007,1990,1957,1952,1970,1980,1991,2005,1973,2004,1961,1986,2006,2005,1999,2016,1951,2004,1947,1999,1960,1991,2003,1988,2006,1950,2014,2002,2013,1981,1984,1937,1963,2001,1985,1928,1978,1958,2003,1987,1987,2003,1949,1991,1965,2004,1986,2003,1959,2003,1958,1959,1985,1972,2001,2008,1984,1977,1955,2001,2013,1990,2006,1995,1953,1954,1998,1973,2001,1986,2007,2003,1996,2012,1996,1999,1967,1959,1964,1996,2000,1948,2005,1993,1983,1960,1955,1971,1968,2002,2018,1970,1995,2006,2003,1994,1984,1949,1955,2005,2004,1987,1928,1996,1988,1951,1995,2004,2015,1987,1945,2000,1959,2006,1947,1986,1994,1954,2008,1989,1957,2006,2003,1953,1976,1958,1914,1998,1981,2000,1971,2003,1922,1994,1972,1963,1963,1968,1982,2005,1930,1994,1981,1944,1971,2012,1988,1950,1970,2005,1973,1959,1987,1980,2014,2015,1954,1986,1955,1982,2008,2015,2007,2003,1968,1997,1996,1912,1979,1956,1953,2000,1987,1985,1948,2001,1996,1959,1944,2018,2008,1953,2010,1979,1987,1947,1955,1992,1955,2013,2004,1940,1998,1944,1939,2003,1964,2018,1959,1949,2005,1989,2011,2015,2008,1983,1997,1954,1954,1947,1914,1975,2001,1992,1938,1972,1951,1958,1950,1945,1940,2015,1914,1942,1973,1955,2005,1988,2003,1938,1953,1941,1962,1903,1940,1917,1926,1988,1974,1991,2004,1918,1972,1960,1976,1948,1996,2018,2018,1987,1998,1976,2018,2015,2018,1964,2004,1925,2018,2008,1972,2018],[13198,2051,33541,400,13939,225,5100,20146,52272,1449,7511,8511,6750,1894,9988,10454,41214,5635,5445,14116,8791,8148,1,13939,8226,4000,476,10309,6277,14340,1742,8550,7713,6600,8694,13789,20599,30336,8799,11472,7952,13860,5998,8611,295,7958,10185,17598,66211,5441,7560,927,23761,6528,8060,8687,6534,200000,23400,6945,26,8434,10433,6826,4132,130680,13939,11786,12696,11916,7448,7574,5662,3859,7312,12681,8712,83,8250,12414,16988,18017,10890,7734,7240,1012029,225,6707,225,24887,9172,2371,8078,5662,992,9375,10400,6712,5997,5000,400,17345,10500,522720,1842,13198,10680,14453,5852,469,3818,3894,4792,435600,14810,6551,7801,400,11325,10798,5182,15890,14156,8735,10975,100,15506,18243,5414,7405,9667,6969,4851,1600,9928,8876,14856,11761,8754,17951,10019,10764,5314,13198,4726,1119,10552,6222,5000,4065,5998,7775,7701,10125,6089,12765,13229,7730,5000,6098,7501,7701,9801,8029,8900,7725,566,400,1412,24831,16100,20709,9583,4400,14569,9147,7800,12632,6250,6969,2178,9086,37237,4051,7405,8750,8377,8579,8348,9583,6250,10154,5227,3598,12499,7588,6875,2266,100,8736,6534,20207,5556,5000,7800,18844,11739,17158,5671,6250,10162,7148,7240,18490,8036,2375,8551,4782,1742,19938,9200,15359,609840,7796,17428,8449,5662,10986,13068,7495,36999,6419,9147,16162,8341,13237,11761,12501,5387,10121,2875,149846,5245,43560,653400,27060,1225,7095,26585,121,16117,9900,9174,13499,65,21274,9583,37462,864,7580,13237,49658,9991,11970,12997,8398,5081,8276,32670,145,8398,24668,3267000,7130,417,10001,3702600,101,37594,10798],[1652,1520,1370,1354,1740,1326,1999,3460,1852,1110,1852,888,1382,1470,1241,1673,2369,1018,1532,1815,1346,1223,1594,1464,1950,845,853,1287,1050,1792,1728,1723,1840,2100,950,1979,1582,3217,1442,1344,1615,1476,1596,1610,1438,1744,1648,2555,1914,1272,1600,1171,2062,900,1462,1252,1504,1888,2732,1978,425,1152,2464,1744,1076,1714,1932,1556,2662,1258,1652,1068,1264,1679,1594,2107,1732,1500,2601,1464,1519,2611,930,1120,2528,1820,1326,1440,1049,1884,1856,1632,1820,2184,1180,1705,2300,1444,1599,1155,1122,2620,1520,854,1667,1848,1701,1920,1229,620,1116,1416,1664,1193,1960,1139,903,1225,1907,2015,750,1425,1648,875,2292,1099,1872,2608,741,2087,1210,1788,750,1274,1912,1122,1509,2260,1040,2144,2317,1581,950,2019,2198,1100,1500,1865,960,1562,1432,1912,1114,1064,1839,2314,1330,2664,1190,1301,1591,1295,960,2784,2404,1295,806,1779,2521,1360,2391,2230,2365,2140,1750,876,1050,2229,1340,2382,1995,1868,1688,3611,1771,2937,1334,1134,851,2953,1410,1734,1368,900,2025,1040,984,1694,2272,1287,2244,2314,1328,1039,984,1828,1208,2549,1530,921,1558,1164,1184,2154,1221,1694,1482,976,1548,3086,2396,2791,1728,1445,2270,1146,1120,1544,1814,2558,3218,1570,1448,1304,1120,1300,1345,840,1148,2636,2388,1476,1164,1287,1152,2040,842,1269,1540,766,3351,2289,1576,5025,1313,2720,2226,4193,1244,1278,1655,2227,1948,1892,3772,2744,1646,2231,3471,1566,2244,4540,4185,2972,1932,2534,3918,2507,2172,3041],[2,3,1,2,2,2,3,4,2,2.5,2,1,2,3,2,2,2,1,2.5,2,1,1,2,2,2,1,1,2,1.5,2,3,2,2,2,1,2,2,3,2,2,2,3,2,2,2,2,2,2,2,1,2,2,2,1,1.5,2,2,2,3,2,1,2,3,2,2,2,1.5,2,3,2,2,2,2,3,2,2.5,3,2,2.5,2,2,3,1,1,3,2.5,2,2,2,2,2,2.5,2,3,2,2,3,2,2,1,2,3,2,1,2,2,2,2,2,1,2,2.5,2.5,2,2,2,1,2,3,2,1,2,3,1,3,2,2,3,1,2,1.5,2,1,2,2,1,2,2,1.5,2,3,1,2,2.5,2,3,2,2,2,2.5,2,2,2,1,2,3,2,2.5,1,2,2,2,2,3,2,1,2,3,3,1.5,3,2,3,3,2,2,1.5,2,2,2.5,3,2,2,6,2,4,2,1,1,3.5,2.5,2,2,1,2,2,1,2.5,3,1,3,2,2,2,1.5,2,2,3,2,1,2,2,1,3,1.5,2.5,2,1,3,3,2.5,3,3,1.5,3,1,1.5,2,2,2.5,4,2,2,1.5,1,2,1,1,1,3,2,2,2,2,3,3,1,1,2,1,2,2.5,2,4.5,2,2.5,2,3.5,2,1,2,3,2,2,5,4,2,2,3,2,2,5,3.5,3,3,3,4,2,2,4],[3,3,3,3,3,3,3,5,3,2,3,3,3,3,3,3,3,2,2,3,3,3,3,4,3,1,1,3,3,3,3,4,3,3,2,3,3,5,3,3,3,3,4,3,2,3,4,4,3,3,4,2,4,2,3,3,3,3,4,4,0,1,4,3,2,3,4,3,3,3,3,3,3,3,3,4,4,3,4,3,3,5,3,3,4,4,3,3,2,4,3,3,4,4,3,4,4,3,4,3,2,4,3,3,3,4,3,3,3,1,2,3,3,3,3,3,2,2,4,4,2,3,4,3,4,2,4,4,2,4,3,3,2,2,3,3,3,3,3,4,4,3,3,4,6,2,3,4,3,2,3,4,3,3,4,4,3,4,3,3,3,4,3,4,5,3,2,3,3,3,4,3,4,3,3,2,3,4,3,4,3,3,4,4,3,4,3,3,3,5,2,3,3,2,3,3,2,3,3,3,4,3,3,2,3,3,3,4,3,2,3,3,2,3,4,3,4,3,3,4,4,4,3,3,4,3,3,3,3,3,5,3,3,3,3,3,2,3,2,3,4,4,3,3,2,4,1,3,3,2,4,3,5,6,2,4,4,5,2,2,3,4,3,4,5,4,3,3,3,3,3,5,4,4,3,4,5,2,3,5],[185500,185000,95000,150000,225000,150000,400000,500000,237000,155000,252000,55000,105000,139000,154000,235000,305000,122000,188000,246500,108000,116500,164900,130000,415000,110000,230000,158500,115000,244900,212500,169900,280000,320000,55500,263500,139900,362000,148500,151000,196000,219000,165000,132900,223000,245000,190000,269900,213000,138000,155000,148000,190000,69000,152000,108500,223500,230000,325000,245000,55000,142000,291400,230000,135000,230000,155000,169900,310000,135000,215700,129900,150000,169000,215500,283000,139000,145000,340000,210000,170000,390000,79000,85000,315000,145000,169900,200000,128000,175800,204840,150000,167000,280000,68000,146000,239785,209900,163000,40000,130000,360000,181000,83900,182000,183000,157000,209900,120000,35000,145000,150000,211900,150000,258000,105000,50400,140000,210000,280000,6750,237500,248000,26000,380000,101000,195000,320000,18000,264000,98000,199000,23700,105000,227500,100000,167000,210000,124900,294000,274000,90000,77000,228500,35000,120000,175000,260000,51000,199888,105000,289000,164900,49900,84500,210000,125010,250000,6600,200000,225000,155000,55700,305000,300000,30000,38000,168500,423950,90000,306000,321000,255000,282500,283500,79900,45000,299000,114900,219000,232500,172000,50000,849000,329000,335000,199500,145000,100000,310000,149900,259900,75000,40000,323000,58000,35000,147150,227900,145000,240000,400000,86000,65000,25000,294000,105000,258000,327500,139500,269000,165000,34500,226000,137000,154000,187500,110000,81500,300000,235000,310000,192000,83320,368000,25000,18000,125000,87500,219900,647000,135000,47000,270000,148000,219000,49000,135000,5000,510000,210000,196000,35000,39900,153000,370000,110500,245000,76150,164000,265000,350000,158000,692500,275000,432500,99400,279900,52500,60000,112500,377500,130000,240000,716000,352300,280000,77900,543060,620000,342000,829900,627200,689000,875000,590000,838900,960000,954800,881500],[185418.33,184904.08,95161.79,150638.91,224336.89,149139.89,398939.4,501260.2,238701.43,152855.35,249462.61,57672.57,102101.86,141926.96,156983.09,238244.59,308262.9,118669.61,191690.82,242773.02,111868.6,120372.29,160879.23,134421.14,410522.99,114485.71,234750.66,163267.45,110000.33,249969.06,207386.75,175273.23,274579.98,314135.04,61385.79,257260.63,146147.47,355562.86,141883.96,157772.78,203168.19,211731.03,172619.3,124707.35,214697.42,236692.63,198446.11,261425.4,221530.76,146607.64,146138.08,157297.46,199407.38,59475.8,161713.88,118630,212788.35,219257.54,335780.57,255799.14,65895.02,153000.42,280062.96,241542.51,146582.11,241655.89,166656.64,181596.41,321946.74,122741.49,203298.32,117396.62,162522.54,181582.83,202495.2,269963.6,152675.1,158794.84,353863.23,195891.82,184114.58,375564.63,64518.63,70502.25,329647.31,159866.22,155032.59,184907.42,143138.65,191575.31,220676.96,165850.36,183101.2,296309.96,85226.41,128175.59,221942.59,191158.24,181769.47,58818.11,148829.02,378971.94,200043.77,64560.62,162498.16,202503.65,177035.56,230193.72,99422.97,56306.54,166449.95,171796.15,190035.45,172166.93,235817.51,82786.46,72790.37,162456.3,233080.97,256902.07,30066.12,213855.04,223959.99,50606.25,355366.78,125715.22,219992.72,345059.3,43586.93,289897.85,123910.74,225328.11,51021.29,132674.17,255362.08,71930.26,195071.66,238479.74,96343.17,265441.14,303001.04,119155.19,106809.07,198434.32,65461.29,150565.74,206281.55,228215.47,82876.25,231863.83,138715.66,255049.42,130939.91,84314.13,118935.49,244818.31,159865.2,284914.24,41729.54,164690.13,189522.97,119180.74,91999.38,341928.17,262964.05,67206.47,75358.62,206015.83,386187.57,127794.31,343914.82,282758.78,293293.95,320959.67,244892.64,118734.71,83864.79,259828.68,154390.71,258587.57,272686.37,212296.57,90504.42,808411.26,369711.05,293643.75,157458.98,102696.19,57564.84,352553.71,192792.65,216743.93,118592.49,84854.25,277557.51,103984.7,81944.32,100174.03,274977.4,97288.8,287787.36,351328.96,134851.83,114461.86,74562.42,244428.16,154681.53,308306.29,276922.7,88882.98,217768.15,112790.01,86758.47,278914.38,83229.67,100178.28,133015.38,55060.2,136520.44,355540.28,290549.08,365570.94,248575.91,140773.59,309897.76,83134.78,76359.13,184594.14,148319.4,282071.26,583828.98,198337.9,111116.69,205255.79,80387.09,150919.84,118937.21,64974.45,75316.16,439529.95,137989.49,122267.55,113168.31,118285.41,231692.81,290384.39,190139.63,164718.4,156930.63,82492.44,347441.77,265073.36,72442.73,782881.8,184295.07,341358.45,193125.53,374230.93,149509.23,157534.47,210752.09,276874,232036.88,134520.28,602173.52,233239.1,147372.74,227879.8,693878.36,461880.63,181440.01,653531.11,444881.73,479726.26,663112.77,359625.88,441990.59,516453.12,476530.43,265103.59],[-81.67,-95.92,161.79,638.91,-663.11,-860.11,-1060.6,1260.2,1701.43,-2144.65,-2537.39,2672.57,-2898.14,2926.96,2983.09,3244.59,3262.9,-3330.39,3690.82,-3726.98,3868.6,3872.29,-4020.77,4421.14,-4477.01,4485.71,4750.66,4767.45,-4999.67,5069.06,-5113.25,5373.23,-5420.02,-5864.96,5885.79,-6239.37,6247.47,-6437.14,-6616.04,6772.78,7168.19,-7268.97,7619.3,-8192.65,-8302.58,-8307.37,8446.11,-8474.6,8530.76,8607.64,-8861.92,9297.46,9407.38,-9524.2,9713.88,10130,-10711.65,-10742.46,10780.57,10799.14,10895.02,11000.42,-11337.04,11542.51,11582.11,11655.89,11656.64,11696.41,11946.74,-12258.51,-12401.68,-12503.38,12522.54,12582.83,-13004.8,-13036.4,13675.1,13794.84,13863.23,-14108.18,14114.58,-14435.37,-14481.37,-14497.75,14647.31,14866.22,-14867.41,-15092.58,15138.65,15775.31,15836.96,15850.36,16101.2,16309.96,17226.41,-17824.41,-17842.41,-18741.76,18769.47,18818.11,18829.02,18971.94,19043.77,-19339.38,-19501.84,19503.65,20035.56,20293.72,-20577.03,21306.54,21449.95,21796.15,-21864.55,22166.93,-22182.49,-22213.54,22390.37,22456.3,23080.97,-23097.93,23316.12,-23644.96,-24040.01,24606.25,-24633.22,24715.22,24992.72,25059.3,25586.93,25897.85,25910.74,26328.11,27321.29,27674.17,27862.08,-28069.74,28071.66,28479.74,-28556.83,-28558.86,29001.04,29155.19,29809.07,-30065.68,30461.29,30565.74,31281.55,-31784.53,31876.25,31975.83,33715.66,-33950.58,-33960.09,34414.13,34435.49,34818.31,34855.2,34914.24,35129.54,-35309.87,-35477.03,-35819.26,36299.38,36928.17,-37035.95,37206.47,37358.62,37515.83,-37762.43,37794.31,37914.82,-38241.22,38293.95,38459.67,-38607.36,38834.71,38864.79,-39171.32,39490.71,39587.57,40186.37,40296.57,40504.42,-40588.74,40711.05,-41356.25,-42041.02,-42303.81,-42435.16,42553.71,42892.65,-43156.07,43592.49,44854.25,-45442.49,45984.7,46944.32,-46975.97,47077.4,-47711.2,47787.36,-48671.04,48851.83,49461.86,49562.42,-49571.84,49681.53,50306.29,-50577.3,-50617.02,-51231.85,-52209.99,52258.47,52914.38,-53770.33,-53821.72,-54484.62,-54939.8,55020.44,55540.28,55549.08,55570.94,56575.91,57453.59,-58102.24,58134.78,58359.13,59594.14,60819.4,62171.26,-63171.02,63337.9,64116.69,-64744.21,-67612.91,-68080.16,69937.21,-70025.55,70316.16,-70470.05,-72010.51,-73732.45,78168.31,78385.41,78692.81,-79615.61,79639.63,-80281.6,80780.63,-81507.56,82441.77,-84926.64,-85557.27,90381.8,-90704.93,-91141.55,93725.53,94330.93,97009.23,97534.47,98252.09,-100626,102036.88,-105479.72,-113826.48,-119060.9,-132627.26,149979.8,150818.36,-158119.37,-160559.99,-176368.89,-182318.27,-209273.74,-211887.23,-230374.12,-396909.41,-443546.88,-478269.57,-616396.41]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>city<\/th>\n      <th>zip<\/th>\n      <th>useCode<\/th>\n      <th>taxAssessmentYear<\/th>\n      <th>taxAssessment<\/th>\n      <th>yearBuilt<\/th>\n      <th>lotSizeSqFt<\/th>\n      <th>finishedSqFt<\/th>\n      <th>bathrooms<\/th>\n      <th>bedrooms<\/th>\n      <th>lastSoldPrice<\/th>\n      <th>predicted<\/th>\n      <th>Prediction_Difference<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[2,4,5,6,7,8,9,10,11,12,13]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script> The final predictions are very close for many of the values.</p>
<p>Some ongoing steps will be made to clean up the above code and to better explain some of the results. For better or for worse I made the decision to publish something once every week for four weeks, and that is what I will do.</p>
<p>Future projects with this dataset would be looking at the entries that performed the most poorly to try and determine why. If there are any questions or you see any errors in the above code or text, please feel free to write me at [<a href="mailto:justin.m.talbot@gmail.com">justin.m.talbot@gmail.com</a>]</p>
</div>
</div>




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
